<div *ngIf="watchProvidersFormGroup" [formGroup]="watchProvidersFormGroup">
  <mat-form-field class="w-100" appearance="outline">
    <mat-label>Chercher un service streaming</mat-label>
    <input
      matInput
      placeholder="Ex. Netflix"
      (input)="handleWatchProviderFilter($event)"
    />
  </mat-form-field>
  <div
    class="row"
    formArrayName="watchProviders"
    *ngIf="!!watchProvidersFormArray.length; else noResult"
  >
    <div
      *ngFor="
        let provider of watchProvidersFormArray.value;
        let watchProvidersFormArrayIndex = index
      "
      class="col-lg-3 col-xl-2 col-sm-4 col-6"
    >
      <div [formGroupName]="watchProvidersFormArrayIndex">
        <mat-checkbox
          [id]="'provider_' + provider.provider_id"
          formControlName="checked"
          [checked]="provider.checked"
          (change)="onWatchProviderCheckboxChange($event, provider.provider_id)"
        >
          <img [src]="apiPosterPath + provider.logo_path" alt="" />
        </mat-checkbox>
        <p class="mt-1">
          {{ provider.provider_name }}
        </p>
      </div>
    </div>
  </div>
  <ng-template #noResult>Aucun service de streaming trouv√©</ng-template>
</div>
